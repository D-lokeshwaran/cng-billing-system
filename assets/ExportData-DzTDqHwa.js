var R=Object.defineProperty;var j=(t,n,e)=>n in t?R(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e;var u=(t,n,e)=>(j(t,typeof n!="symbol"?n+"":n,e),e);import{p as a,w as g,j as f}from"./index-BBZVF_XH.js";import{r as A}from"./upload02-icon-CvQZ4Da_.js";const x=()=>/^((?!chrome|android).)*safari/i.test(navigator.userAgent),m=t=>Array.isArray(t)&&t.every(n=>typeof n=="object"&&!(n instanceof Array)),L=t=>Array.isArray(t)&&t.every(n=>Array.isArray(n)),O=t=>Array.from(t.map(n=>Object.keys(n)).reduce((n,e)=>new Set([...n,...e]),[])),U=(t,n)=>{n=n||O(t);let e=n,s=n;m(n)&&(e=n.map(r=>r.label),s=n.map(r=>r.key));const o=t.map(r=>s.map(i=>$(i,r)));return[e,...o]},$=(t,n)=>{const e=t.replace(/\[([^\]]+)]/g,".$1").split(".").reduce(function(s,o,r,i){const c=s[o];if(c==null)i.splice(1);else return c},n);return e===void 0?t in n?n[t]:"":e},S=t=>typeof t>"u"||t===null?"":t,C=(t,n=",",e='"')=>t.filter(s=>s).map(s=>s.map(o=>S(o)).map(o=>`${e}${o}${e}`).join(n)).join(`
`),I=(t,n,e,s)=>C(n?[n,...t]:t,e,s),D=(t,n,e,s)=>C(U(t,n),e,s),T=(t,n,e,s)=>n?`${n.join(e)}
${t}`:t.replace(/"/g,'""'),k=(t,n,e,s)=>{if(m(t))return D(t,n,e,s);if(L(t))return I(t,n,e,s);if(typeof t=="string")return T(t,n,e);throw new TypeError('Data should be a "String", "Array of arrays" OR "Array of objects" ')},b=(t,n,e,s,o)=>{const r=k(t,e,s,o),i=x()?"application/csv":"text/csv",c=new Blob([n?"\uFEFF":"",r],{type:i}),l=`data:${i};charset=utf-8,${n?"\uFEFF":""}${r}`,p=window.URL||window.webkitURL;return typeof p.createObjectURL>"u"?l:p.createObjectURL(c)},w={data:a.oneOfType([a.string,a.array,a.func]).isRequired,headers:a.array,target:a.string,separator:a.string,filename:a.string,uFEFF:a.bool,onClick:a.func,asyncOnClick:a.bool,enclosingCharacter:a.string},F={separator:",",filename:"generatedBy_react-csv.csv",uFEFF:!0,asyncOnClick:!1,enclosingCharacter:'"'},B={target:"_blank"};class h extends g.Component{constructor(n){super(n),this.state={}}buildURI(){return b(...arguments)}componentDidMount(){const{data:n,headers:e,separator:s,enclosingCharacter:o,uFEFF:r,target:i,specs:c,replace:l}=this.props;this.state.page=window.open(this.buildURI(n,r,e,s,o),i,c,l)}getWindow(){return this.state.page}render(){return null}}u(h,"defaultProps",Object.assign(F,B)),u(h,"propTypes",w);var d;let V=(d=class extends g.Component{constructor(n){super(n),this.buildURI=this.buildURI.bind(this)}buildURI(){return b(...arguments)}handleLegacy(n,e=!1){if(window.navigator.msSaveOrOpenBlob){n.preventDefault();const{data:s,headers:o,separator:r,filename:i,enclosingCharacter:c,uFEFF:l}=this.props,p=e&&typeof s=="function"?s():s;let y=new Blob([l?"\uFEFF":"",k(p,o,r,c)]);return window.navigator.msSaveBlob(y,i),!1}}handleAsyncClick(n){const e=s=>{if(s===!1){n.preventDefault();return}this.handleLegacy(n,!0)};this.props.onClick(n,e)}handleSyncClick(n){if(this.props.onClick(n)===!1){n.preventDefault();return}this.handleLegacy(n)}handleClick(){return n=>{if(typeof this.props.onClick=="function")return this.props.asyncOnClick?this.handleAsyncClick(n):this.handleSyncClick(n);this.handleLegacy(n)}}render(){const{data:n,headers:e,separator:s,filename:o,uFEFF:r,children:i,onClick:c,asyncOnClick:l,enclosingCharacter:p,...y}=this.props,v=typeof window>"u"?"":this.buildURI(n,r,e,s,p);return f.jsx("a",{download:o,...y,ref:E=>this.link=E,target:"_self",href:v,onClick:this.handleClick(),children:i})}},u(d,"defaultProps",F),u(d,"propTypes",w),d);const N=V,z=({filename:t,table:n,data:e})=>{const s=n==null?void 0:n.getAllColumns().map(r=>r.id),o=n==null?void 0:n.getCoreRowModel().rows.map(r=>r.original);return f.jsxs(N,{className:"btn btn-ghost",headers:s,data:e||o,filename:t+".csv",children:[f.jsx(A,{size:"18"}),f.jsx("span",{className:"ms-1",children:"Export"})]})};export{z as E};
