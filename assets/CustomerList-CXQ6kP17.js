import{c as g,r as w,j as e,t as c,e as m,B as d,F as u,R as y,C as p,S as D}from"./index-BBZVF_XH.js";import{c as x}from"./customerSlice-E0JaCIh3.js";import{u as R,T as S,c as N}from"./TanStackTable-BluuVpOs.js";import{D as k,C as F}from"./DefaultRowActions-Dii3MQXi.js";import{F as B}from"./FeatureHeader-DpyJK2EI.js";import{E as v}from"./ExportData-DzTDqHwa.js";import{P as E}from"./Pagination-49DtyXDZ.js";import{o as P}from"./delete02-icon-CGhQGn9A.js";import{C as o}from"./FormSelect-CRrV35Dd.js";import"./labels--gJQxQlO.js";import"./FormCheck-B5v7tI3p.js";import"./Table-C0k4yvah.js";import"./lodash-CnXZZf-c.js";import"./upload02-icon-CvQZ4Da_.js";const U=()=>{const r=g(),h=N(),{table:t,refreshData:l}=R({...x,columns:w.useMemo(()=>[...x.columns,h.display({id:"actions",cell:({row:s,...a})=>e.jsx(k,{props:a,row:s,onDelete:C,onEdit:()=>r.push(`/customers/${s.original.id}`)})})],[])}),i=t.getSelectedRowModel().rows.map(s=>s.original.id),n=i.length,j=()=>{r.push("/customers/new")},f=s=>({onDoubleClick:()=>{const a=s.original.id;r.push(`/customers/${a}`)}}),C=async s=>{await c(m.delete(`/cng/customers/${s.id}`)),l()},b=async()=>{await c(m({url:"/cng/bulk-delete-customers",method:"delete",data:{ids:i}})),l()};return e.jsxs("div",{children:[e.jsx(B,{title:"Customers",className:"justify-content-between",breadcrumbs:[{title:"Customer",path:"/customers"},{title:"List",disabled:!0}],children:e.jsx(d,{variant:"success",onClick:j,children:"+ Customer"})}),e.jsxs(o,{children:[e.jsx(o.Header,{className:"py-3",children:n>0?e.jsxs(u,{justify:"between",children:[e.jsx("div",{className:"fw-semibold",children:`${n} Selected rows`}),e.jsxs(d,{variant:"default-danger",className:"text-white",onClick:b,children:[e.jsx(P,{size:"18"}),e.jsx("span",{className:"ms-1",children:"Delete"})]})]}):e.jsxs(y,{className:"justify-content-between align-items-center mb-0 g-0",children:[e.jsx(p,{lg:3,sm:1,children:e.jsx(D,{value:t.getState().globalFilter??"",onChange:s=>t.setGlobalFilter(String(s)),debounce:200})}),e.jsxs(p,{xs:!0,sm:"auto",as:u,justify:"end",children:[e.jsx(F,{table:t,displayColumns:["rowSelect","actions"],className:"me-2"}),e.jsx(v,{filename:"customers",table:t})]})]})}),e.jsx(o.Body,{className:"p-0 table-container",children:e.jsx(S,{table:t,rowProps:f})}),e.jsxs(o.Footer,{children:[" ",e.jsx(E,{table:t})]})]})]})};export{U as default};
